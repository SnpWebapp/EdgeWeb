extends ../layouts/default

block content

	// Import css scripts
	head
		// Import materialize-css
		link(href='http://fonts.googleapis.com/icon?family=Material+Icons', rel='stylesheet')
		link(type='text/css',
			rel='stylesheet',
			href='css/materialize.min.css',
			media='screen,projection')
		meta(name='viewport', content='width=device-width, initial-scale=1.0')

		// Import noUiSlider for the year_range slider
		link(type='text/css', href='css/nouislider.css', rel='stylesheet')

		// Import vis for rendering the network
		link(type='text/css', href='css/vis.min.css', rel='stylesheet')

	// Main content
	.container
		h2 Research Edge
		hr
		form#search-form(method='post', autocomplete='on')

			// Search bar
			button.btn.waves-effect.waves-light(type='submit', name='action')
				i.material-icons send
			.input-field
				span
					i.material-icons.prefix search
					input(name='search_query',
						type='text',
						autofocus=true,
						required=true,
						placeholder='Search',
						spellcheck=true)

			// Advanced search
			ul.collapsible(data-collapsible='accordion')
				li
					.collapsible-header
						i.material-icons list
						| Advanced Search
					.collapsible-body
						.container
							.row
								.input-field
									input#Authors.validate(name='authors', type='text')
									label(for='Authors') Authors
								.input-field
									input#Journals.validate(name='journals', type='text')
									label(for='Journal') Journals
							.row
								label.col.s3#slider_label Date
								#year_slider.col.s9
								input#yearstart(name='yearstart', type='number')
								input#yearend(name='yearend', type='number')

	body
		// Import jquery
		script(type='text/javascript', src='js/jquery/jquery-2.1.4.min.js')

		// Search results
		if searchSubmitted
			script(type='text/javascript', src='js/lib/vis.min.js')
			.container
				#search_network.col.s12
				script(type='text/javascript').
					var searchResults =!{JSON.stringify(searchResults)}
				script(type='text/javascript', src='js/search_network.js', async)

		// Import materialize, nouislider, etc.
		script(type='text/javascript', src='js/lib/materialize.min.js', async)
		script(type='text/javascript', src='js/lib/nouislider.min.js')

		script(type='text/javascript', src='js/year_slider.js', async)

